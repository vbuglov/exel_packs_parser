{"ast":null,"code":"import _toConsumableArray from \"/home/vyc/Documents/packparcerwithcalcs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _defineProperty from \"/home/vyc/Documents/packparcerwithcalcs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport { drop } from \"ramda\";\nimport { addNoData, cols } from \"./exelParser\";\nvar startPackCol = \"E\";\nvar finishPackCol = \"AK\";\nvar startCalcsCol = \"AQ\";\nvar finishCalcsCol = \"BJ\";\nvar rawData = \"\\nid\\tdt\\timei\\tkey\\tpk\\tDateTime\\tLatitude\\tLongitude\\tSpeed\\tSupplyVoltage\\ta1_last\\ta2_last\\ta3_last\\ta4_last\\ta5_last\\ta6_last\\ta7_last\\ta8_last\\ta9_last\\ta10_last\\ta1_cur\\ta2_cur\\ta3_cur\\ta4_cur\\ta5_cur\\ta6_cur\\ta7_cur\\ta8_cur\\ta9_cur\\ta10_cur\\td1_last\\td2_last\\td3_last\\td1_cur\\td2_cur\\td3_cur\\tParameters\\t\\t\\t\\tDate\\tTime\\ta1_last_v\\ta2_last_v\\ta3_last_v\\ta4_last_v\\ta5_last_v\\ta6_last_v\\ta7_last_v\\ta8_last_v\\ta9_last_v\\ta10_last_v\\ta1_cur_v\\ta2_cur_v\\ta3_cur_v\\ta4_cur_v\\ta5_cur_v\\ta6_cur_v\\ta7_cur_v\\ta8_cur_v\\ta9_cur_v\\ta10_cur_v\\n\\t\\t\\t\\t112\\t0\\t0\\t1921784061\\t\\t\\t3200\\t2285\\t2084\\t1712\\t1715\\t1712\\t1713\\t2487\\t1972\\t1705\\t3200\\t2285\\t2084\\t1712\\t1715\\t1712\\t1713\\t2487\\t1972\\t1705\\t255\\t255\\t255\\t255\\t255\\t255\\t0\\t\\t\\t\\tROUNDDOWN(F2/86400000,0)\\tTIME(MOD(F2/1000,86400)/3600+3,MOD(MOD(F2/1000,86400)/60,60),MOD(MOD(MOD(F2/1000,86400)/60,60),1)*60)\\t(K2/$Simple.$B$11*$Simple.$B$4-$Simple.$B$5)*$Simple.$B$6\\t(L2/$Simple.$B$11*$Simple.$B$4-$Simple.$B$5)*$Simple.$B$6\\t(M2/$Simple.$B$11*$Simple.$B$4-$Simple.$B$5)*$Simple.$B$6\\t(N2/$Simple.$B$11*$Simple.$B$4-$Simple.$B$5)*$Simple.$B$6\\t(O2/$Simple.$B$11*$Simple.$B$4-$Simple.$B$5)*$Simple.$B$6\\t(P2/$Simple.$B$11*$Simple.$B$4-$Simple.$B$5)*$Simple.$B$6\\t(Q2/$Simple.$B$11*$Simple.$B$4-$Simple.$B$5)*$Simple.$B$6\\t(R2/$Simple.$B$11*$Simple.$B$4-$Simple.$B$5)*$Simple.$B$6\\t(S2/$Simple.$B$11*$Simple.$B$4-$Simple.$B$5)*$Simple.$B$6\\t(T2/$Simple.$B$11*$Simple.$B$4-$Simple.$B$5)*$Simple.$B$6\\t(U2/$Simple.$B$11*$Simple.$B$4-$Simple.$B$5)*$Simple.$B$6\\t(V2/$Simple.$B$11*$Simple.$B$4-$Simple.$B$5)*$Simple.$B$6\\t(W2/$Simple.$B$11*$Simple.$B$4-$Simple.$B$5)*$Simple.$B$6\\t(X2/$Simple.$B$11*$Simple.$B$4-$Simple.$B$5)*$Simple.$B$6\\t(Y2/$Simple.$B$11*$Simple.$B$4-$Simple.$B$5)*$Simple.$B$6\\t(Z2/$Simple.$B$11*$Simple.$B$4-$Simple.$B$5)*$Simple.$B$6\\t(AA2/$Simple.$B$11*$Simple.$B$4-$Simple.$B$5)*$Simple.$B$6\\t(AB2/$Simple.$B$11*$Simple.$B$4-$Simple.$B$5)*$Simple.$B$6\\t(AC2/$Simple.$B$11*$Simple.$B$4-$Simple.$B$5)*$Simple.$B$6\\t(AD2/$Simple.$B$11*$Simple.$B$4-$Simple.$B$5)*$Simple.$B$6\\n\\n\";\nvar pack = \"\\ndata\\tgps.time\\tgps.date\\tgps.lat\\tgps.lon\\tmdt.gps.speed\\tgps.alt\\tgps.course\\tgps.hdop\\tgps.sats\\tbat_level\\tingnition\\teng_run_time\\tin1\\tin2\\tgsm_level\\ttemper\\tin3\\tin4\\td1\\td2\\td3\\td4\\td5\\td6\\n1\\t11500000\\t300419\\t59752592\\t30977254\\t16\\t5330\\t7447\\t155\\t5\\t4092\\t0\\t27\\t1579\\t1221\\t0\\t3086\\t1274\\t1177\\t4095\\t4095\\t4095\\t4095\\t4095\\t4095\\n\";\n\nvar prepExelToObj = function prepExelToObj(data) {\n  var columns = cols;\n  var prepedData = addNoData(data).split(\"\\n\").filter(function (el) {\n    return el;\n  }).map(function (el) {\n    return el.split(\"\\t\");\n  }).map(function (el) {\n    return el.map(function (el) {\n      return el === \"__empty__\" ? \"\" : el;\n    });\n  }).map(function (list, indexField) {\n    return list.map(function (el, idx) {\n      return _defineProperty({}, \"\".concat(cols[idx]).concat(indexField + 1), el);\n    });\n  }).reduce(function (acc, cur) {\n    return [].concat(_toConsumableArray(acc), _toConsumableArray(cur));\n  }, []).map(function (el) {\n    return Object.entries(el)[0];\n  });\n  console.log(prepedData);\n  return prepedData;\n};\n\nvar lib = {\n  Simple: prepExelToObj(\"\\n\\u041F\\u0430\\u0440\\u0430\\u043C\\u0435\\u0442\\u0440\\t\\u0417\\u043D\\u0430\\u0447\\u0435\\u043D\\u0438\\u0435\\t\\u0415\\u0434. \\u0438\\u0437\\u043C\\u0435\\u0440\\u0435\\u043D\\u0438\\u044F\\n\\u0418\\u0441\\u0445\\u043E\\u0434\\u043D\\u044B\\u0435 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0435\\t\\t\\n\\u0420\\u0430\\u0437\\u0440\\u044F\\u0434\\u043D\\u043E\\u0441\\u0442\\u044C \\u0410\\u0426\\u041F\\t12\\t\\u0431\\u0438\\u0442\\n\\u041D\\u0430\\u043F\\u0440\\u044F\\u0436\\u0435\\u043D\\u0438\\u0435 \\u043F\\u0438\\u0442\\u0430\\u043D\\u0438\\u044F \\u043A\\u043E\\u043D\\u0442\\u0440\\u043E\\u043B\\u043B\\u0435\\u0440\\u0430 (\\u0410\\u0426\\u041F)\\t3.3000\\t\\u0412\\n\\u041D\\u0430\\u043F\\u0440\\u044F\\u0436\\u0435\\u043D\\u0438\\u0435 \\u043F\\u0438\\u0442\\u0430\\u043D\\u0438\\u044F \\u043F\\u0440\\u0438 0\\u0412 \\u043D\\u0430 \\u0432\\u0445\\u043E\\u0434\\u0435 \\u043F\\u043B\\u0430\\u0442\\u044B\\t1.3750\\t\\u0412\\n\\u0414\\u0435\\u043B\\u0438\\u0442\\u0435\\u043B\\u044C \\u043D\\u0430\\u043F\\u0440\\u044F\\u0436\\u0435\\u043D\\u0438\\u044F\\t10\\t\\u0440\\u0430\\u0437\\n\\u0417\\u043D\\u0430\\u0447\\u0435\\u043D\\u0438\\u0435 \\u043D\\u0430\\u043F\\u0440\\u044F\\u0436\\u0435\\u043D\\u0438\\u044F \\u043D\\u0430 \\u0432\\u0445\\u043E\\u0434\\u0435\\t11.37\\t\\u0412\\n\\u0417\\u043D\\u0430\\u0447\\u0435\\u043D\\u0438\\u0435, \\u0441\\u0447\\u0438\\u0442\\u0430\\u043D\\u043D\\u043E\\u0435 \\u0441 \\u0410\\u0426\\u041F\\t4095\\t\\n\\t\\t\\n\\u0420\\u0430\\u0441\\u0447\\u0435\\u0442\\u044B\\t\\t\\n\\u041C\\u0430\\u043A\\u0441\\u0438\\u043C\\u0430\\u043B\\u044C\\u043D\\u043E\\u0435 \\u0437\\u043D\\u0430\\u0447\\u0435\\u043D\\u0438\\u0435, \\u0432\\u044B\\u0434\\u0430\\u0432\\u0430\\u0435\\u043C\\u043E\\u0435 \\u0410\\u0426\\u041F\\t=2^B3-1\\t\\n\\u0417\\u043D\\u0430\\u0447\\u0435\\u043D\\u0438\\u0435 \\u043D\\u0430\\u043F\\u0440\\u044F\\u0436\\u0435\\u043D\\u0438\\u044F \\u043D\\u0430 \\u0432\\u0445\\u043E\\u0434\\u0435\\t=(B8/B11*B4-B5)*B6\\t\\u0412\\n\\u041E\\u0442\\u043A\\u043B\\u043E\\u043D\\u0435\\u043D\\u0438\\u0435 \\u043E\\u0442 \\u0440\\u0430\\u0441\\u0447\\u0435\\u0442\\u043D\\u043E\\u0433\\u043E \\u0437\\u043D\\u0430\\u0447\\u0435\\u043D\\u0438\\u044F\\t=(B12-B7)/B7\\t\\n\\t\\t\\n\\u0420\\u0430\\u0441\\u0447\\u0435\\u0442 \\u043A\\u043E\\u044D\\u0444\\u0444\\u0438\\u0446\\u0438\\u0435\\u043D\\u0442\\u043E\\u0432 \\u0434\\u043B\\u044F \\u0444\\u043E\\u0440\\u043C\\u0443\\u043B\\u044B Val = a*x^2 + b*x + c\\t\\t\\na\\t0\\t\\nb\\t=B6/B11*B4\\t\\nc\\t=-B5*B6\\t\\n\\u041F\\u0440\\u043E\\u0432\\u0435\\u0440\\u043A\\u0430\\t=B16*(B8^2)+B17*B8+B18\\t\\n\\t=B12=B19\\t\\n\\t\")\n};\nexport { pack, rawData, startCalcsCol, startPackCol, finishCalcsCol, finishPackCol, lib };","map":{"version":3,"sources":["/home/vyc/Documents/packparcerwithcalcs/src/parseExlsPacks/data.js"],"names":["drop","addNoData","cols","startPackCol","finishPackCol","startCalcsCol","finishCalcsCol","rawData","pack","prepExelToObj","data","columns","prepedData","split","filter","el","map","list","indexField","idx","reduce","acc","cur","Object","entries","console","log","lib","Simple"],"mappings":";;AAAA,SAASA,IAAT,QAAqB,OAArB;AACA,SAASC,SAAT,EAAoBC,IAApB,QAAgC,cAAhC;AAEA,IAAMC,YAAY,GAAG,GAArB;AACA,IAAMC,aAAa,GAAG,IAAtB;AAEA,IAAMC,aAAa,GAAG,IAAtB;AACA,IAAMC,cAAc,GAAG,IAAvB;AAEA,IAAMC,OAAO,ygEAAb;AAMA,IAAMC,IAAI,iWAAV;;AAKA,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,CAACC,IAAD,EAAU;AAC9B,MAAIC,OAAO,GAAGT,IAAd;AACA,MAAMU,UAAU,GAAGX,SAAS,CAACS,IAAD,CAAT,CAChBG,KADgB,CACV,IADU,EAEhBC,MAFgB,CAET,UAACC,EAAD;AAAA,WAAQA,EAAR;AAAA,GAFS,EAGhBC,GAHgB,CAGZ,UAACD,EAAD;AAAA,WAAQA,EAAE,CAACF,KAAH,CAAS,IAAT,CAAR;AAAA,GAHY,EAIhBG,GAJgB,CAIZ,UAACD,EAAD;AAAA,WAAQA,EAAE,CAACC,GAAH,CAAO,UAACD,EAAD;AAAA,aAASA,EAAE,KAAK,WAAP,GAAqB,EAArB,GAA0BA,EAAnC;AAAA,KAAP,CAAR;AAAA,GAJY,EAKhBC,GALgB,CAKZ,UAACC,IAAD,EAAOC,UAAP;AAAA,WACHD,IAAI,CAACD,GAAL,CAAS,UAACD,EAAD,EAAKI,GAAL;AAAA,2CACHjB,IAAI,CAACiB,GAAD,CADD,SACSD,UAAU,GAAG,CADtB,GAC4BH,EAD5B;AAAA,KAAT,CADG;AAAA,GALY,EAUhBK,MAVgB,CAUT,UAACC,GAAD,EAAMC,GAAN;AAAA,wCAAkBD,GAAlB,sBAA0BC,GAA1B;AAAA,GAVS,EAUuB,EAVvB,EAWhBN,GAXgB,CAWZ,UAACD,EAAD;AAAA,WAAQQ,MAAM,CAACC,OAAP,CAAeT,EAAf,EAAmB,CAAnB,CAAR;AAAA,GAXY,CAAnB;AAYAU,EAAAA,OAAO,CAACC,GAAR,CAAYd,UAAZ;AACA,SAAOA,UAAP;AACD,CAhBD;;AAkBA,IAAMe,GAAG,GAAG;AACVC,EAAAA,MAAM,EAAEnB,aAAa;AADX,CAAZ;AAyBA,SACED,IADF,EAEED,OAFF,EAGEF,aAHF,EAIEF,YAJF,EAKEG,cALF,EAMEF,aANF,EAOEuB,GAPF","sourcesContent":["import { drop } from \"ramda\";\r\nimport { addNoData, cols } from \"./exelParser\";\r\n\r\nconst startPackCol = \"E\";\r\nconst finishPackCol = \"AK\";\r\n\r\nconst startCalcsCol = \"AQ\";\r\nconst finishCalcsCol = \"BJ\";\r\n\r\nconst rawData = `\r\nid\tdt\timei\tkey\tpk\tDateTime\tLatitude\tLongitude\tSpeed\tSupplyVoltage\ta1_last\ta2_last\ta3_last\ta4_last\ta5_last\ta6_last\ta7_last\ta8_last\ta9_last\ta10_last\ta1_cur\ta2_cur\ta3_cur\ta4_cur\ta5_cur\ta6_cur\ta7_cur\ta8_cur\ta9_cur\ta10_cur\td1_last\td2_last\td3_last\td1_cur\td2_cur\td3_cur\tParameters\t\t\t\tDate\tTime\ta1_last_v\ta2_last_v\ta3_last_v\ta4_last_v\ta5_last_v\ta6_last_v\ta7_last_v\ta8_last_v\ta9_last_v\ta10_last_v\ta1_cur_v\ta2_cur_v\ta3_cur_v\ta4_cur_v\ta5_cur_v\ta6_cur_v\ta7_cur_v\ta8_cur_v\ta9_cur_v\ta10_cur_v\r\n\t\t\t\t112\t0\t0\t1921784061\t\t\t3200\t2285\t2084\t1712\t1715\t1712\t1713\t2487\t1972\t1705\t3200\t2285\t2084\t1712\t1715\t1712\t1713\t2487\t1972\t1705\t255\t255\t255\t255\t255\t255\t0\t\t\t\tROUNDDOWN(F2/86400000,0)\tTIME(MOD(F2/1000,86400)/3600+3,MOD(MOD(F2/1000,86400)/60,60),MOD(MOD(MOD(F2/1000,86400)/60,60),1)*60)\t(K2/$Simple.$B$11*$Simple.$B$4-$Simple.$B$5)*$Simple.$B$6\t(L2/$Simple.$B$11*$Simple.$B$4-$Simple.$B$5)*$Simple.$B$6\t(M2/$Simple.$B$11*$Simple.$B$4-$Simple.$B$5)*$Simple.$B$6\t(N2/$Simple.$B$11*$Simple.$B$4-$Simple.$B$5)*$Simple.$B$6\t(O2/$Simple.$B$11*$Simple.$B$4-$Simple.$B$5)*$Simple.$B$6\t(P2/$Simple.$B$11*$Simple.$B$4-$Simple.$B$5)*$Simple.$B$6\t(Q2/$Simple.$B$11*$Simple.$B$4-$Simple.$B$5)*$Simple.$B$6\t(R2/$Simple.$B$11*$Simple.$B$4-$Simple.$B$5)*$Simple.$B$6\t(S2/$Simple.$B$11*$Simple.$B$4-$Simple.$B$5)*$Simple.$B$6\t(T2/$Simple.$B$11*$Simple.$B$4-$Simple.$B$5)*$Simple.$B$6\t(U2/$Simple.$B$11*$Simple.$B$4-$Simple.$B$5)*$Simple.$B$6\t(V2/$Simple.$B$11*$Simple.$B$4-$Simple.$B$5)*$Simple.$B$6\t(W2/$Simple.$B$11*$Simple.$B$4-$Simple.$B$5)*$Simple.$B$6\t(X2/$Simple.$B$11*$Simple.$B$4-$Simple.$B$5)*$Simple.$B$6\t(Y2/$Simple.$B$11*$Simple.$B$4-$Simple.$B$5)*$Simple.$B$6\t(Z2/$Simple.$B$11*$Simple.$B$4-$Simple.$B$5)*$Simple.$B$6\t(AA2/$Simple.$B$11*$Simple.$B$4-$Simple.$B$5)*$Simple.$B$6\t(AB2/$Simple.$B$11*$Simple.$B$4-$Simple.$B$5)*$Simple.$B$6\t(AC2/$Simple.$B$11*$Simple.$B$4-$Simple.$B$5)*$Simple.$B$6\t(AD2/$Simple.$B$11*$Simple.$B$4-$Simple.$B$5)*$Simple.$B$6\r\n\r\n`;\r\n\r\nconst pack = `\r\ndata\tgps.time\tgps.date\tgps.lat\tgps.lon\tmdt.gps.speed\tgps.alt\tgps.course\tgps.hdop\tgps.sats\tbat_level\tingnition\teng_run_time\tin1\tin2\tgsm_level\ttemper\tin3\tin4\td1\td2\td3\td4\td5\td6\r\n1\t11500000\t300419\t59752592\t30977254\t16\t5330\t7447\t155\t5\t4092\t0\t27\t1579\t1221\t0\t3086\t1274\t1177\t4095\t4095\t4095\t4095\t4095\t4095\r\n`;\r\n\r\nconst prepExelToObj = (data) => {\r\n  let columns = cols;\r\n  const prepedData = addNoData(data)\r\n    .split(\"\\n\")\r\n    .filter((el) => el)\r\n    .map((el) => el.split(\"\\t\"))\r\n    .map((el) => el.map((el) => (el === \"__empty__\" ? \"\" : el)))\r\n    .map((list, indexField) =>\r\n      list.map((el, idx) => ({\r\n        [`${cols[idx]}${indexField + 1}`]: el,\r\n      }))\r\n    )\r\n    .reduce((acc, cur) => [...acc, ...cur], [])\r\n    .map((el) => Object.entries(el)[0]);\r\n  console.log(prepedData);\r\n  return prepedData;\r\n};\r\n\r\nconst lib = {\r\n  Simple: prepExelToObj(`\r\nПараметр\tЗначение\tЕд. измерения\r\nИсходные данные\t\t\r\nРазрядность АЦП\t12\tбит\r\nНапряжение питания контроллера (АЦП)\t3.3000\tВ\r\nНапряжение питания при 0В на входе платы\t1.3750\tВ\r\nДелитель напряжения\t10\tраз\r\nЗначение напряжения на входе\t11.37\tВ\r\nЗначение, считанное с АЦП\t4095\t\r\n\t\t\r\nРасчеты\t\t\r\nМаксимальное значение, выдаваемое АЦП\t=2^B3-1\t\r\nЗначение напряжения на входе\t=(B8/B11*B4-B5)*B6\tВ\r\nОтклонение от расчетного значения\t=(B12-B7)/B7\t\r\n\t\t\r\nРасчет коэффициентов для формулы Val = a*x^2 + b*x + c\t\t\r\na\t0\t\r\nb\t=B6/B11*B4\t\r\nc\t=-B5*B6\t\r\nПроверка\t=B16*(B8^2)+B17*B8+B18\t\r\n\t=B12=B19\t\r\n\t`),\r\n};\r\n\r\nexport {\r\n  pack,\r\n  rawData,\r\n  startCalcsCol,\r\n  startPackCol,\r\n  finishCalcsCol,\r\n  finishPackCol,\r\n  lib,\r\n};\r\n"]},"metadata":{},"sourceType":"module"}